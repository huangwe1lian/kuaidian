;(function(){function hdpop(option){this.config={close:true,tips:'提示信息',tips_center:false,tips_show:true,ico:'',ico_text:'',text:'',dz_html:'',width:500,height:220,exter_id:'',exter_reset:true,iframe:'',alert:'',alert_time:1000,toast:false,toast_time:1000,toast_text:'',toast_ico:'',toast_img:'',toast_reset:{},toast_follow:false,obj:[],bgColor:'',bgClose:false,bgOpacity:0.7,openDelay:0,closeDelay:0,openClass:'',closeClass:'',hasBg:true,animate_time:0,fixed:true,popObg:[],openBack:function(){},closeBack:function(){}};this.pop_extend(this.config,option);this.pop_init()};hdpop.prototype={pop_extend:function(obj1,obj2){for(var attr in obj2){obj1[attr]=obj2[attr]}},pop_class:[],pop_timer:null,pop_class_remove:function(obj){var t=this;if(t.pop_class.length>0){for(var i in t.pop_class){if(obj){obj.removeClass(t.pop_class[i])}else{t.config.popObg[1].removeClass(t.pop_class[i])}}}},pop_open_class:function(obj){var t=this;if(t.config.openClass){obj.addClass('animated');obj.addClass(t.config.openClass);t.pop_class.push('animated');t.pop_class.push(t.config.openClass)}},pop_close_class:function(obj){var t=this;if(t.config.closeClass){obj.addClass('animated');obj.addClass(t.config.closeClass);t.pop_class.push('animated');t.pop_class.push(t.config.closeClass)}},pop_close_time:null,pop_close:function(){var t=this;if(t.config.closeDelay>0){clearTimeout(t.pop_close_time);t.pop_close_time=setTimeout(function(){t.config.popObg[1].fadeOut(t.config.animate_time);if(t.config.hasBg){t.config.popObg[0].fadeOut(t.config.animate_time)}},t.config.closeDelay)}else{t.config.popObg[1].fadeOut(t.config.animate_time);if(t.config.hasBg){t.config.popObg[0].fadeOut(t.config.animate_time)}};t.pop_class_remove();t.pop_close_class(t.config.popObg[1]);t.config.closeBack(t.config.obj)},open:function(){this.show()},close:function(){var t=this;if(t.config.alert){t.pop_alert_close()}else if(t.config.toast){t.pop_toast_close()}else{t.pop_close()}},pop_open_time:null,pop_open:function(){var t=this;if(t.config.hasBg){t.config.popObg[0].show()};if(t.config.openDelay>0){clearTimeout(t.pop_open_time);t.pop_open_time=setTimeout(function(){t.config.popObg[1].fadeIn(t.config.animate_time);t.pop_bind()},t.config.openDelay)}else{t.config.popObg[1].fadeIn(t.config.animate_time);t.pop_bind()};t.pop_class_remove();t.pop_open_class(t.config.popObg[1]);t.config.openBack(t.config.obj)},hide:function(){this.close()},show:function(){var t=this;if(t.config.alert){t.pop_alert()}else if(t.config.toast){t.pop_toast()}else{t.pop_open()}},pop_bind:function(){var t=this;$('.hdpop-close',t.config.popObg[1]).unbind();$('.hdpop-close',t.config.popObg[1]).bind('click',function(){t.pop_close()});if(t.config.close){$('#hdpop-close',t.config.popObg[1]).show()}else{$('#hdpop-close',t.config.popObg[1]).hide()};if(t.config.popObg[1]&&(!t.config.exter_id||(t.config.exter_id&&t.config.exter_reset))){if(t.config.fixed==false){t.config.popObg[1].css('position','absolute');var stoph=$(window).scrollTop();if(t.config.popObg[1].height()<$(window).height()){stoph=parseInt($(window).scrollTop()+($(window).height()-t.config.popObg[1].height())/2)}t.config.popObg[1].css({'top':stoph,'margin-top':0})}else{if(t.config.popObg[1].height()>$(window).height()){t.config.popObg[1].css('position','absolute');t.config.popObg[1].css({'top':$(window).scrollTop(),'margin-top':0})}else{t.config.popObg[1].css('position','fixed');t.config.popObg[1].css({'top':'50%','margin-top':-(t.config.popObg[1].height()/2)+'px'})}}};if(t.config.popObg[0]&&t.config.hasBg==true){if(t.config.bgClose==true){t.config.popObg[0].bind('click',function(){t.pop_close()})}else{t.config.popObg[0].unbind()};if(t.config.bgColor){t.config.popObg[0].css('background-color',t.config.bgColor)}else{t.config.popObg[0].css('background-color','#000')}t.config.popObg[0].css('opacity',t.config.bgOpacity)}},pop_set:function(){var t=this;t.config.popObg[1].css({"width":t.config.width,"height":t.config.height,"marginLeft":-t.config.width/2,"marginTop":-t.config.height/2});t.config.popObg[2].css({"width":t.config.width,"height":t.config.height})},pop_create:function(){var t=this,str='',str_tips='',str_body='',thh=54;str_tips+='<div class="hdpop-hd">';if(t.config.tips_center){str_tips+='<cite class="center">'}else{str_tips+='<cite>'}str_tips+=t.config.tips+'</cite></div>';if(!t.config.tips_show){str_tips='';thh=0}if(t.config.dz_html){str_body+=t.config.dz_html}else{if(t.config.ico){if(t.config.text){str_body+='<div class="hdpop-ico"><p><i><em class="'+t.config.ico+'"></em>'+t.config.ico_text+'</i></p></div>'}else{str_body+='<div class="hdpop-ico"><i><em class="'+t.config.ico+'"></em>'+t.config.ico_text+'</i></div>'}}if(t.config.text){if(t.config.ico){str_body+='<div class="hdpop-text"><span>'+t.config.text+'</span></div>'}else{str_body+='<div class="hdpop-text"><p><span>'+t.config.text+'</span></p></div>'}}}if(t.config.iframe){str_body='<iframe src="'+t.config.iframe+'" frameborder="0" width="100%" height="'+(t.config.height-thh)+'"></iframe>'}str=str_tips+str_body;t.config.popObg[2].html(str);t.pop_open()},pop_alert_close:function(){var t=this,antime=t.config.animate_time||500,altg=t.config.popObg[0];clearTimeout(t.pop_timer);t.pop_class_remove(altg);t.pop_close_class(altg);altg.fadeOut(antime+t.config.closeDelay,function(){altg.attr('data-tips','');t.config.closeBack(t.config.obj)})},pop_alert:function(){var t=this,antime=t.config.animate_time||500,altg=t.config.popObg[0];if(altg.attr('data-tips')){return};t.config.obj.push(altg);altg.html('<span>'+t.config.alert+'</span>');var aspn=$('span',altg);altg.attr('data-tips','show');t.pop_class_remove(altg);t.pop_open_class(altg);altg.fadeIn(antime,function(){clearTimeout(t.pop_timer);t.pop_timer=setTimeout(function(){t.pop_alert_close()},t.config.alert_time)});t.config.openBack(t.config.obj)},pop_toast_close:function(){var t=this,antime=t.config.animate_time||500,altg=t.config.popObg[0];clearTimeout(t.pop_timer);t.pop_class_remove(altg);t.pop_close_class(altg);altg.fadeOut(antime+t.config.closeDelay,function(){altg.attr('data-tips','');t.config.closeBack(t.config.obj)})},pop_toast:function(){var t=this,antime=t.config.animate_time||500,altg=t.config.popObg[0],html='';if(altg.attr('data-tips')){return};t.config.obj.push(altg);altg.attr('style','display:none');if(t.config.toast_ico){if(t.config.toast_ico=='success'||t.config.toast_ico=='loading'||t.config.toast_ico=='warm'){html+='<i class="toast_ico toast_'+t.config.toast_ico+'"></i>'}};if(t.config.toast_text){html+='<i class="toast_text '+(html?'toast_text_ts':'')+'">'+t.config.toast_text+'</i>'};if(!html){return};html='<span>'+html+'</span>';altg.html(html);altg.attr('data-tips','show');if(t.config.toast_reset){altg.css(t.config.toast_reset);if(t.config.toast_reset.span){var spa=$('span',altg);spa.css(t.config.toast_reset.span)}};t.pop_class_remove(altg);t.pop_open_class(altg);altg.fadeIn(antime,function(){clearTimeout(t.pop_timer);t.pop_timer=setTimeout(function(){t.pop_toast_close()},t.config.toast_time)})},pop_init:function(){var t=this;if(!document.getElementById("hdpop-cov")){var str='<div class="hdpop-tips hdpop-toast" id="hdpop-toast"><span></span></div><div class="hdpop-tips" id="hdpop-tips"><span></span></div><div class="hdpop-cov" id="hdpop-cov"></div><div class="hdpop-wk" id="hdpop-wk"><a href="javascript:void(0)" class="hdpop-close hdpop-close-btn" id="hdpop-close"></a><div class="hdpop-con" id="hdpop-con"></div></div>';$('body').append(str)};if(!document.getElementById("hdpop-style")){var doc=document,style=doc.createElement("style"),cssString='.hdpop-cov{width: 100%; height: 100%; background: #000; position: fixed; z-index: 999; left: 0; top: 0;background:#000; filter:alpha(opacity=70);opacity: 0.7; display: none;}* html { background:url(*) fixed; }* html body { margin:0; height:100%; }* html .hdpop-cov {position: absolute; left: expression(documentElement.scrollLeft + documentElement.clientWidth - this.offsetWidth); top: expression(documentElement.scrollTop + documentElement.clientHeight - this.offsetHeight);display:none;  }.hdpop-wk{width: 500px; height: 220px; padding: 5px; position: absolute; position: fixed; z-index: 1002; left: 50%; top: 50%; margin: -110px 0 0 -250px; display: none;margin-left:-250px;margin-top:-110px;}.hdpop-con{width: 500px; height: 220px; background: #fff; text-align: center; border-radius: 5px; position: relative; z-index: 1;}.hdpop-close-btn{display: block; width: 21px; height: 21px; background: url(//www1.pcauto.com.cn/zt/ztlib/hdpop/pop-ico.png) no-repeat 0 0; position: absolute; right: 25px; top: 20px; z-index: 2;}.hdpop-hd{height: 54px; line-height: 54px; border-bottom: 1px solid #f0f0f0}.hdpop-hd cite{font-size: 20px; text-align: left; padding: 0 20px; text-align: left; display: block; font-style: normal;}.hdpop-hd .center{text-align: center;}.hdpop-ico p{padding-top: 30px;}.hdpop-ico i{display: inline-block; padding-top: 57px; line-height: 50px; font-size: 16px; color: #333;}.hdpop-ico i em{display: block; float: left; width: 50px; height: 50px; background: url(//www1.pcauto.com.cn/zt/ztlib/hdpop/pop-ico.png) no-repeat 0 -22px; margin-right: 15px;}.hdpop-ico i .success{background-position: 0 -22px;}.hdpop-ico i .warm{background-position: 0 -73px;}.hdpop-ico p i{padding-top: 0;}.hdpop-text p{padding-top: 30px;}.hdpop-text span{display: block; padding: 20px 20px 0; color: #888; font-size: 14px;}.hdpop-text span cite{color: #f44; font-style: normal;}.hdpop-tips{position:fixed; width: 100%; left:0; top:46%; z-index:9999;_position:absolute; _top:expression(documentElement.scrollTop + 300 +"px"); text-align: center; display: none;}.hdpop-tips span{display: inline-block; padding: 7px 17px; color: #fff; background:#333; border:1px solid #333; text-align: center; color: #fff; border-radius: 5px; margin: 0 auto;}.hdpop-btn-text{font-size: 16px; height: 90px; line-height: 90px; text-align: center;}.hdpop-toast{z-index: 10000;}.hdpop-btn-item{clear: both; padding-top: 5px;}.hdpop-btn-item a{display: inline-block; width: 86px; height: 34px; border-radius: 3px; font-size: 14px; color: #fa0; border:1px solid #fa0; margin: 0 5px; line-height: 34px;}.hdpop-btn-item .hdpop-btn-sure{background: #ffaa00; color: #fff;}.hdpop-btn-item a:hover{background: #f70; color: #fff;}@-o-keyframes loading360 {from {-webkit-transform:rotate(0deg);transform:rotate(0deg);} to {-webkit-transform:rotate(360deg);transform:rotate(360deg);} } @-moz-keyframes loading360 {from {-webkit-transform:rotate(0deg);transform:rotate(0deg);} to {-webkit-transform:rotate(360deg);transform:rotate(360deg);} } @-webkit-keyframes loading360 {from {-webkit-transform:rotate(0deg);transform:rotate(0deg);} to {-webkit-transform:rotate(360deg);transform:rotate(360deg);} } @-webkit-keyframes loading360 {from {-webkit-transform:rotate(0deg);transform:rotate(0deg);} to {-webkit-transform:rotate(360deg);transform:rotate(360deg);} } @keyframes loading360 {from {-webkit-transform:rotate(0deg);transform:rotate(0deg);} to {-webkit-transform:rotate(360deg);transform:rotate(360deg);} } .hdpop-toast{z-index: 10000; margin-top: -25px;} .hdpop-tips .toast_ico{width: 40px; height: 40px; padding:8px 0; display: inline-block; clear: both; margin: 0 auto; opacity: .8;} .hdpop-tips .toast_text{display: block; padding: 3px 5px;} .hdpop-tips .toast_text_ts{padding: 8px 8px 3px; margin-top: -8px;min-width:54px;} .hdpop-tips .toast_success{background:url("//www1.pcauto.com.cn/zt/ztlib/hdpop/success.png") no-repeat center center; } .hdpop-tips .toast_loading{background:url("//www1.pcauto.com.cn/zt/ztlib/hdpop/loading.png") no-repeat center center; -o-animation:loading360 2s linear infinite;-moz-animation:loading360 2s linear infinite;-webkit-animation:loading360 2s linear infinite;animation:loading360 2s linear infinite;} .hdpop-tips .toast_warm{background:url("//www1.pcauto.com.cn/zt/ztlib/hdpop/warm.png") no-repeat center center; }';style.setAttribute("type","text/css");style.id='hdpop-style';if(style.styleSheet){style.styleSheet.cssText=cssString}else{var cssText=doc.createTextNode(cssString);style.appendChild(cssText)}var heads=doc.getElementsByTagName("head");if(heads.length){heads[0].appendChild(style)}else{doc.documentElement.appendChild(style)}};if(t.config.closeClass||t.config.openClass){var css=document.createElement('link');css.type='text/css';css.rel='stylesheet';css.href='//www1.pconline.com.cn/zt/commcss/animate.css';document.getElementsByTagName('head')[0].appendChild(css)};if(t.config.alert){t.config.popObg[0]=$('#hdpop-tips');t.pop_alert()}else if(t.config.toast){t.config.popObg[0]=$('#hdpop-toast');t.pop_toast()}else{t.config.popObg[0]=$('#hdpop-cov');t.config.obj.push(t.config.popObg[0]);if(t.config.exter_id){t.config.popObg[1]=$(t.config.exter_id);t.pop_open();t.config.obj.push(t.config.popObg[1])}else{t.config.popObg[1]=($('#hdpop-wk'));t.config.popObg[2]=($('#hdpop-con'));t.config.obj.push(t.config.popObg[1]);t.config.obj.push(t.config.popObg[2]);t.pop_set();t.pop_create()}}}};window.hdpop=hdpop})();